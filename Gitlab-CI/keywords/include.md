# include
Используйте include для включения внешних файлов YAML в вашу конфигурацию CI/CD. Вы можете разделить один длинный файл .gitlab-ci.yml на несколько файлов, чтобы повысить удобство чтения или уменьшить дублирование одной и той же конфигурации в нескольких местах.
Вы также можете хранить файлы шаблонов в центральном репозитории и включать их в проекты.

Включаемые файлы - это:
- Объединены с содержимым файла .gitlab-ci.yml.
- Всегда сначала обрабатываются, а затем объединяются с содержимым файла .gitlab-ci.yml, независимо от позиции ключевого слова include.

Ограничение по времени для разрешения всех файлов составляет 30 секунд.

**Тип слова:** Глобальное

**Возможные значения:**
Подразделы:
- [include:component](include.md#includecomponent)
- [include:local](include.md#includelocal)
- [include:project](include.md#includeproject)
- [include:remote](include.md#includeremote)
- [include:template](include.md#includetemplate)

Опционально:
- [include:inputs](include.md#includeinputs)
- [include:rules](include.md#includerules)

**Дополнительные сведения:**
- С ключевыми словами include можно использовать только определенные переменные CI/CD.
- Используйте объединение для настройки и переопределения включенных конфигураций CI/CD с помощью local
- Вы можете переопределить включенную конфигурацию, указав то же имя задания или глобальное ключевое слово в файле .gitlab-ci.yml. Эти две конфигурации объединяются вместе, и конфигурация в файле .gitlab-ci.yml имеет приоритет над включенной конфигурацией.
- Если вы повторно запустите:
    - При выполнении задания включаемые файлы больше не извлекаются. Во всех заданиях конвейера используется конфигурация, выбранная при создании конвейера. Любые изменения в исходных включаемых файлах не влияют на повторное выполнение задания.
    - При выполнении конвейера включаемые файлы извлекаются снова. Если они изменились после последнего запуска конвейера, то новый конвейер использует измененную конфигурацию.
- По умолчанию в каждом конвейере может быть до 150 включений, включая вложенные. Дополнительно:
    - В GitLab 16.0 и более поздних версиях пользователи с автономным управлением могут изменять максимальное значение включений.
    - В GitLab 15.10 и более поздних версиях у вас может быть до 150 включений. Во вложенных включениях один и тот же файл может быть включен несколько раз, но количество дублированных включений ограничено.
    - С GitLab 14.9 по GitLab 15.9 у вас может быть до 100 включений. Один и тот же файл может быть включен во вложенные файлы несколько раз, но дубликаты игнорируются.

## include:component
Используйте include:component для добавления компонента CI/CD в конфигурацию конвейера.

**Тип слова:** Глобальное

**Возможные значения:** Полный адрес компонента CI/CD, отформатированный как <полное доменное имя>/<путь к проекту>/<имя компонента>@<конкретная версия> (<fully-qualified-domain-name>/<project-path>/<component-name>@<specific-version>).

**Пример:**
```YAML
include:
  - component: $CI_SERVER_FQDN/my-org/security-components/secret-detection@1.0
```
**Связанные темы:**
- [Использование компонентов CI/CD](https://docs.gitlab.com/ee/ci/components/index.html#use-a-component)

## include:local
Используйте include:local, чтобы включить файл, который находится в том же репозитории и в той же ветви, что и файл конфигурации, содержащий ключевое слово include. Используйте include:local вместо символических ссылок.

**Тип слова:** Глобальное

**Возможные значения:** 
Полный путь к корневому каталогу (/):
- Файл YAML должен иметь расширение .yml или .yaml.
- Вы можете использовать подстановочные знаки * и ** в пути к файлу.
- Вы можете использовать определенные переменные CI/CD.

**Пример:**
```YAML
include:
  - local: '/templates/.gitlab-ci-template.yml'
```

Вы также можете использовать более короткий синтаксис для определения пути:

```YAML
include: '.gitlab-ci-production.yml'
```

**Дополнительные сведения:**
- Файл .gitlab-ci.yml и локальный файл должны находиться в одной ветке.
- Вы не можете включать локальные файлы через пути к подмодулям Git.
- Конфигурация include всегда оценивается на основе местоположения файла, содержащего ключевое слово include, а не проекта, в котором выполняется конвейер. Если вложенный include находится в файле конфигурации другого проекта, include: local проверяет наличие файла в другом проекте.

## include:project
Чтобы включить файлы из другого частного проекта в тот же экземпляр GitLab, используйте include:project и include:file.

**Тип слова:** Глобальное

**Возможные значения:** 
- include:project: Полный путь к проекту GitLab.
- include:file: указать полный путь к файлу или массив путей к файлам относительно корневого каталога (/). Файлы YAML должны иметь расширение .yml или .yaml.
- include:ref: Необязательно. Ссылка для получения файла. По умолчанию используется заголовок проекта, если он не указан.
- Вы можете использовать [определенные переменные CI/CD](https://docs.gitlab.com/ee/ci/yaml/includes.html#use-variables-with-include).

## include:remote

## include:template

## include:inputs

## include:rules
